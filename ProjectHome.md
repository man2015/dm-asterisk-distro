# [Digital-Merge's Asterisk Distro](http://www.digital-merge.com) #

### What is this Distro? ###
**UPDATE 03/Sep/2013:**

It's a Network Install ISO image. This will install CentOS 6.4 i686, DAHDI, LIBPRI, OPENR2(optional), WEBRTC2SIP Media Gateway(optional) & a Web GUI Based on the [Charisma Template](http://usman.it/free-responsive-admin-template/).

### Why Another Distro? ###
The ISO was designed to make easiest the installation of CentOS+Asterisk+WebRTC2Sip+GUI, but keeping the native way to compile all the tools in order to make easy future changes or upgrade.

### How it Works? ###
Basically its a CentOS 6.3 Network Install ISO, when the base system finish the installation a Script will download and compile all the features. You need to answer some basic questions.

### What Version Of Asterisk is Using? ###
The current version is: **UPDATE 03/Sep/2013:** Asterisk 11.5.0

### What Version Of DAHDI is Using? ###
**UPDATE 03/Sep/2013
The current version of DAHDI is:**dahdi-Linux-Complete-2.7.0

### How about updating Asterisk or DAHDI? ###
You can Update both downloading the sources and compiling.
For Asterisk: ./configure && make menuselect && make && make install
**Do not run make samples**

For Dahdi: make all && make install if you download the dahdi-linux-complete.


### Which are the Defaults Passwords? ###
There is no default password during the installation you will be prompted to enter your preferred usernames & passwords.

**UPDATE 21/02/2013** During the Installation will ask for Username & Password to LOGIN in the webPage. The ADMINGUI user still active for old installations.

### What about security? ###
The installation include a basic IPTABLES rules, you can install blockhost or fail2ban.

### Asterisk Administration: ###
You can administrate the Asterisk via the Web GUI. Asterisk is configured to use Realtime Static, with this the SIP Peers, IAX2 Peers, Voicemail Configuration, Conference Rooms, Queues, Agents & the CDR are stored into a MYSQL Database.

The Dialplan, Chan\_Dahdi, sip.conf & iax.conf are using the same plain text files. So you can edit via Browser or via linux console the file without problems.

### Optional Packages ###
During the installation You can select this packages to install:

  * OpenR2
> > [OpenR2](http://code.google.com/p/openr2/) is the library to support [R2](https://code.google.com/p/dm-asterisk-distro/source/detail?r=2) signalling on E1/T1.

  * WebRTC2SIP Media Gateway
> > [Webrtc2sip media gateway](http://code.google.com/p/webrtc2sip/) from [Doubango Telecom](http://www.doubango.org/) is a gateway for WebRTC SIPML5, using this makes easier to integrate with asterisk the webrtc support.

**UPDATE 23/02/2013:** The webrtc2sip is not started by default, in order to enable this service login as root and change directory to /usr/local/sbin/ and start with this command:

```
#cd /usr/local/sbin
#screen -dmS wrtc webrtc2sip
```

If you want to see the log of webrtc2sip connect to the previous screen with:
```
# screen -r wrtc
```
To detach the screen use CRTL+A +D.


### Why Not Simply use FreePBX? ###
We Love Freepbx, also we help on the #freepbx irc channel, but this installation is oriented for Administrators who want to keep the native use of asterisk, avoiding the macros and stuff generated by FreePBX.


## WEB GUI Features ##
  * When you add a SIP PEER the GUI will generate under the default context called [extensions](extensions.md) a line to use the Sub Function for call sip peers.
  * Add the hint for that peer in the [hints](hints.md) context.
  * Reload SIP & the Dialplan

  * When you add a Conference Room the GUI will generate under the default context called [conference](conference.md) a line to call that conference. And reload Dialplan

### Recommended Browser ###
If you want to use all capabilities we recommend: the latest version of Chrome. The GUI was tested on Chrome, Opera & Firefox.
**WebRTC only works with Chrome**


# Changelog on Version 2 #
**Improvements:**
  1. Text based Installation.
  1. RPM based packages from Digital-Merge.
  1. Organization of the files in the HTML Directory.
  1. Use of PHP-AGI Asm manager.

**Versions:**
  1. Upgrade to DAHDI 2.7.0.
  1. Upgrade to Asterisk 11.5.0
  1. Upgrade to latest Doubango Framework(2.0r985).
  1. Upgrade to latest WebRTC2Sip version(2.5.1r114).

**GUI**:
  1. Added ACLs, DTMFMODE, TRANSPORT, ENCRYPTION, Latest NAT Settings to SIP peer page.

**New Modules on GUI**:
  1. User web Page.
  1. WebRTC2SIP management Page.
  1. TLS Tools page. Generate the keys for secure transport.
  1. Voicemail Template Page. Create the VM template to receive mailbox notifications.


## URLS ##
**For the Admin** page point your browser to(use the username & pwd that you setup during installation.): http://yourserveraddress/

**For the User** page point your browser to(use your extension number & voicemail password to login.): http://yourserveraddress/user/userlog.php



## ScreenShots of The Web GUI ##
The GUI is based on the [Charisma Template](http://http://usman.it/free-responsive-admin-template/) made by Muhammad Usman.

The GUI have built in the SIPML5 API and that register into our Main PBX in order to get live support. We Hope people using our Distro keep that as is, thus give us more job to improve and develop more asterisk stuff.

The GUI use some scripts to get the Registered SIP&IAX2 Users, the CPU utilization & the concurrents calls.

  * #### Boot Screen ####
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/boot.png](http://dl.dropbox.com/u/1277237/DMDistro/img/boot.png)


  * #### Installation ####
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/install.png](http://dl.dropbox.com/u/1277237/DMDistro/img/install.png)
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/dm-install.png](http://dl.dropbox.com/u/1277237/DMDistro/img/dm-install.png)



  * #### Login Page ####


> ![http://dl.dropbox.com/u/1277237/DMDistro/img/dmlogin.png](http://dl.dropbox.com/u/1277237/DMDistro/img/dmlogin.png)

  * #### Banner with WebRTC Support ####
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/webrtc.png](http://dl.dropbox.com/u/1277237/DMDistro/img/webrtc.png)



  * #### Dashboard ####
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/dash1.png](http://dl.dropbox.com/u/1277237/DMDistro/img/dash1.png)
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/dash2.png](http://dl.dropbox.com/u/1277237/DMDistro/img/dash2.png)
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/main.png](http://dl.dropbox.com/u/1277237/DMDistro/img/main.png)


  * #### SIP PEERs Section ####
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/sip.png](http://dl.dropbox.com/u/1277237/DMDistro/img/sip.png)


  * #### Voicemail Section ####
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/vm.png](http://dl.dropbox.com/u/1277237/DMDistro/img/vm.png)


  * #### Queue Section ####
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/queue.png](http://dl.dropbox.com/u/1277237/DMDistro/img/queue.png)



  * #### Dialplan Section ####
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/files.png](http://dl.dropbox.com/u/1277237/DMDistro/img/files.png)


  * #### CDR Reports ####
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/cdr.png](http://dl.dropbox.com/u/1277237/DMDistro/img/cdr.png)


  * #### Recordings ####
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/rec.png](http://dl.dropbox.com/u/1277237/DMDistro/img/rec.png)


  * #### WebRTC2SIP Settings ####
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/webrtc2sip.png](http://dl.dropbox.com/u/1277237/DMDistro/img/webrtc2sip.png)


  * #### TLS Tools ####
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/tls.png](http://dl.dropbox.com/u/1277237/DMDistro/img/tls.png)


  * #### Voicemail Template ####
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/vmt.png](http://dl.dropbox.com/u/1277237/DMDistro/img/vmt.png)


  * #### Delivered Voicemail ####
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/vm2.png](http://dl.dropbox.com/u/1277237/DMDistro/img/vm2.png)


  * ### User Web Page ###
    * #### Get Voicemails ####
> > ![http://dl.dropbox.com/u/1277237/DMDistro/img/uvm.png](http://dl.dropbox.com/u/1277237/DMDistro/img/uvm.png)

  * #### Followme Settings ####

> ![http://dl.dropbox.com/u/1277237/DMDistro/img/ufollow.png](http://dl.dropbox.com/u/1277237/DMDistro/img/ufollow.png)

  * #### WebRTC SoftPhone ####
> ![http://dl.dropbox.com/u/1277237/DMDistro/img/uwebp.png](http://dl.dropbox.com/u/1277237/DMDistro/img/uwebp.png)

  * #### User Reports ####
> ![http://dl.dropbox.com/u/1277237/DMDistro/img/ucdr.png](http://dl.dropbox.com/u/1277237/DMDistro/img/ucdr.png)

  * #### Voicemail Settings ####
> ![http://dl.dropbox.com/u/1277237/DMDistro/img/uvms.png](http://dl.dropbox.com/u/1277237/DMDistro/img/uvms.png)



# Feedback #
We appreciate your feedback, you can post messages in our [Discussion group](https://groups.google.com/forum/?fromgroups#!forum/dm-asterisk-distro-discuss)


# Support #
For basic support you can read the Asterisk Book in http://asteriskdocs.org  or use the [Discussion group](https://groups.google.com/forum/?fromgroups#!forum/dm-asterisk-distro-discuss)

If you want a support policy with us call us using the web call button or send us a email to info@digital-merge.com or visit http://www.digital-merge.com


# Disclaimer #
Asterisk, Dahdi & Libpri are part of [Digium Company](http://www.digium.com).
[OpenR2](http://code.google.com/p/openr2/) is a project from Moises Silva.
The Web GUI Based on the [Charisma Template](http://http://usman.it/free-responsive-admin-template/) By Muhammad Usman.
[Webrtc2sip media gateway](http://code.google.com/p/webrtc2sip/) from [Doubango Telecom](http://www.doubango.org/).

We don't own that brands or their logos. Our Job only consist on integrate that features in One ISO image.